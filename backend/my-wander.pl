% city data
city(prague).
hotel(prague, 87).
city(frankfurt).
hotel(frankfurt, 187).
city(vienna).
hotel(vienna, 56).
city(rome).
hotel(rome, 54).

% route data
route(prague,frankfurt,154,1).
route(prague,frankfurt,316,1).
route(prague,frankfurt,316,1).
route(prague,frankfurt,316,1).
route(prague,frankfurt,316,1).
route(prague,frankfurt,116,1).
route(prague,frankfurt,201,1).
route(prague,frankfurt,260,1).
route(prague,frankfurt,308,1).
route(prague,frankfurt,367,1).
route(prague,frankfurt,374,1).
route(prague,frankfurt,110,2).
route(prague,frankfurt,271,2).
route(prague,frankfurt,271,2).
route(prague,frankfurt,271,2).
route(prague,frankfurt,110,2).
route(prague,frankfurt,110,2).
route(prague,frankfurt,154,2).
route(prague,frankfurt,164,2).
route(prague,frankfurt,236,2).
route(prague,frankfurt,316,2).
route(prague,frankfurt,316,2).
route(prague,frankfurt,438,2).
route(prague,frankfurt,110,3).
route(prague,frankfurt,271,3).
route(prague,frankfurt,271,3).
route(prague,frankfurt,271,3).
route(prague,frankfurt,119,3).
route(prague,frankfurt,208,3).
route(prague,frankfurt,255,3).
route(prague,frankfurt,255,3).
route(prague,frankfurt,316,3).
route(prague,frankfurt,316,3).
route(prague,frankfurt,374,3).
route(prague,frankfurt,271,4).
route(prague,frankfurt,271,4).
route(prague,frankfurt,271,4).
route(prague,frankfurt,271,4).
route(prague,frankfurt,110,4).
route(prague,frankfurt,154,4).
route(prague,frankfurt,179,4).
route(prague,frankfurt,209,4).
route(prague,frankfurt,209,4).
route(prague,frankfurt,209,4).
route(prague,frankfurt,271,4).
route(prague,frankfurt,325,4).
route(prague,frankfurt,110,5).
route(prague,frankfurt,271,5).
route(prague,frankfurt,271,5).
route(prague,frankfurt,271,5).
route(prague,frankfurt,271,5).
route(prague,frankfurt,96,5).
route(prague,frankfurt,176,5).
route(prague,frankfurt,209,5).
route(prague,frankfurt,209,5).
route(prague,frankfurt,271,5).
route(prague,frankfurt,325,5).
route(prague,frankfurt,601,5).
route(prague,vienna,332,1).
route(prague,vienna,332,1).
route(prague,vienna,332,1).
route(prague,vienna,175,1).
route(prague,vienna,193,1).
route(prague,vienna,217,1).
route(prague,vienna,230,1).
route(prague,vienna,277,1).
route(prague,vienna,385,1).
route(prague,vienna,385,1).
route(prague,vienna,385,1).
route(prague,vienna,230,2).
route(prague,vienna,268,2).
route(prague,vienna,313,2).
route(prague,vienna,315,2).
route(prague,vienna,217,2).
route(prague,vienna,230,2).
route(prague,vienna,311,2).
route(prague,vienna,315,2).
route(prague,vienna,315,2).
route(prague,vienna,315,2).
route(prague,vienna,320,2).
route(prague,vienna,320,2).
route(prague,vienna,458,2).
route(prague,vienna,458,2).
route(prague,vienna,458,2).
route(prague,vienna,458,2).
route(prague,vienna,479,2).
route(prague,vienna,508,2).
route(prague,vienna,508,2).
route(prague,vienna,516,2).
route(prague,vienna,759,2).
route(prague,vienna,1031,2).
route(prague,vienna,1031,2).
route(prague,vienna,267,3).
route(prague,vienna,267,3).
route(prague,vienna,267,3).
route(prague,vienna,230,3).
route(prague,vienna,248,3).
route(prague,vienna,277,3).
route(prague,vienna,315,3).
route(prague,vienna,315,3).
route(prague,vienna,698,3).
route(prague,vienna,267,4).
route(prague,vienna,267,4).
route(prague,vienna,267,4).
route(prague,vienna,179,4).
route(prague,vienna,216,4).
route(prague,vienna,230,4).
route(prague,vienna,324,4).
route(prague,vienna,516,4).
route(prague,vienna,536,4).
route(prague,vienna,630,4).
route(prague,vienna,759,4).
route(prague,vienna,189,5).
route(prague,vienna,267,5).
route(prague,vienna,267,5).
route(prague,vienna,315,5).
route(prague,vienna,165,5).
route(prague,vienna,185,5).
route(prague,vienna,185,5).
route(prague,vienna,315,5).
route(prague,vienna,315,5).
route(prague,vienna,582,5).
route(prague,vienna,600,5).
route(prague,rome,27,1).
route(prague,rome,110,1).
route(prague,rome,131,1).
route(prague,rome,174,1).
route(prague,rome,193,1).
route(prague,rome,202,1).
route(prague,rome,232,1).
route(prague,rome,233,1).
route(prague,rome,233,1).
route(prague,rome,273,1).
route(prague,rome,284,1).
route(prague,rome,25,2).
route(prague,rome,32,2).
route(prague,rome,143,2).
route(prague,rome,232,2).
route(prague,rome,232,2).
route(prague,rome,232,2).
route(prague,rome,233,2).
route(prague,rome,236,2).
route(prague,rome,236,2).
route(prague,rome,34,3).
route(prague,rome,39,3).
route(prague,rome,174,3).
route(prague,rome,175,3).
route(prague,rome,183,3).
route(prague,rome,202,3).
route(prague,rome,236,3).
route(prague,rome,236,3).
route(prague,rome,32,4).
route(prague,rome,39,4).
route(prague,rome,117,4).
route(prague,rome,164,4).
route(prague,rome,175,4).
route(prague,rome,175,4).
route(prague,rome,183,4).
route(prague,rome,207,4).
route(prague,rome,232,4).
route(prague,rome,284,4).
route(prague,rome,21,5).
route(prague,rome,68,5).
route(prague,rome,121,5).
route(prague,rome,129,5).
route(prague,rome,175,5).
route(prague,rome,175,5).
route(prague,rome,183,5).
route(prague,rome,183,5).
route(prague,rome,232,5).
route(frankfurt,prague,240,1).
route(frankfurt,prague,291,1).
route(frankfurt,prague,348,1).
route(frankfurt,prague,348,1).
route(frankfurt,prague,348,1).
route(frankfurt,prague,186,1).
route(frankfurt,prague,198,1).
route(frankfurt,prague,201,1).
route(frankfurt,prague,240,1).
route(frankfurt,prague,397,1).
route(frankfurt,prague,415,1).
route(frankfurt,prague,348,2).
route(frankfurt,prague,348,2).
route(frankfurt,prague,348,2).
route(frankfurt,prague,168,2).
route(frankfurt,prague,189,2).
route(frankfurt,prague,240,2).
route(frankfurt,prague,291,2).
route(frankfurt,prague,323,2).
route(frankfurt,prague,348,2).
route(frankfurt,prague,397,2).
route(frankfurt,prague,597,2).
route(frankfurt,prague,275,3).
route(frankfurt,prague,275,3).
route(frankfurt,prague,275,3).
route(frankfurt,prague,177,3).
route(frankfurt,prague,177,3).
route(frankfurt,prague,177,3).
route(frankfurt,prague,213,3).
route(frankfurt,prague,214,3).
route(frankfurt,prague,245,3).
route(frankfurt,prague,275,3).
route(frankfurt,prague,275,3).
route(frankfurt,prague,333,3).
route(frankfurt,prague,275,4).
route(frankfurt,prague,275,4).
route(frankfurt,prague,275,4).
route(frankfurt,prague,177,4).
route(frankfurt,prague,177,4).
route(frankfurt,prague,221,4).
route(frankfurt,prague,245,4).
route(frankfurt,prague,275,4).
route(frankfurt,prague,275,4).
route(frankfurt,prague,326,4).
route(frankfurt,prague,326,4).
route(frankfurt,prague,333,4).
route(frankfurt,prague,396,4).
route(frankfurt,prague,275,5).
route(frankfurt,prague,275,5).
route(frankfurt,prague,275,5).
route(frankfurt,prague,151,5).
route(frankfurt,prague,163,5).
route(frankfurt,prague,211,5).
route(frankfurt,prague,245,5).
route(frankfurt,prague,245,5).
route(frankfurt,prague,275,5).
route(frankfurt,prague,275,5).
route(frankfurt,prague,333,5).
route(frankfurt,vienna,240,1).
route(frankfurt,vienna,334,1).
route(frankfurt,vienna,668,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,150,1).
route(frankfurt,vienna,150,1).
route(frankfurt,vienna,179,1).
route(frankfurt,vienna,236,1).
route(frankfurt,vienna,240,1).
route(frankfurt,vienna,240,1).
route(frankfurt,vienna,292,1).
route(frankfurt,vienna,334,1).
route(frankfurt,vienna,334,1).
route(frankfurt,vienna,402,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,904,1).
route(frankfurt,vienna,1988,1).
route(frankfurt,vienna,181,2).
route(frankfurt,vienna,280,2).
route(frankfurt,vienna,286,2).
route(frankfurt,vienna,578,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,143,2).
route(frankfurt,vienna,195,2).
route(frankfurt,vienna,240,2).
route(frankfurt,vienna,247,2).
route(frankfurt,vienna,280,2).
route(frankfurt,vienna,280,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,774,2).
route(frankfurt,vienna,1988,2).
route(frankfurt,vienna,265,3).
route(frankfurt,vienna,280,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,182,3).
route(frankfurt,vienna,240,3).
route(frankfurt,vienna,244,3).
route(frankfurt,vienna,252,3).
route(frankfurt,vienna,280,3).
route(frankfurt,vienna,280,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,668,3).
route(frankfurt,vienna,1988,3).
route(frankfurt,vienna,235,4).
route(frankfurt,vienna,489,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,154,4).
route(frankfurt,vienna,200,4).
route(frankfurt,vienna,231,4).
route(frankfurt,vienna,235,4).
route(frankfurt,vienna,235,4).
route(frankfurt,vienna,489,4).
route(frankfurt,vienna,489,4).
route(frankfurt,vienna,489,4).
route(frankfurt,vienna,489,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,668,4).
route(frankfurt,vienna,1988,4).
route(frankfurt,vienna,235,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,155,5).
route(frankfurt,vienna,188,5).
route(frankfurt,vienna,197,5).
route(frankfurt,vienna,235,5).
route(frankfurt,vienna,235,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,489,5).
route(frankfurt,vienna,555,5).
route(frankfurt,vienna,1988,5).
route(frankfurt,rome,165,1).
route(frankfurt,rome,202,1).
route(frankfurt,rome,512,1).
route(frankfurt,rome,133,1).
route(frankfurt,rome,133,1).
route(frankfurt,rome,190,1).
route(frankfurt,rome,202,1).
route(frankfurt,rome,265,1).
route(frankfurt,rome,512,1).
route(frankfurt,rome,512,1).
route(frankfurt,rome,512,1).
route(frankfurt,rome,525,1).
route(frankfurt,rome,202,2).
route(frankfurt,rome,287,2).
route(frankfurt,rome,355,2).
route(frankfurt,rome,202,2).
route(frankfurt,rome,202,2).
route(frankfurt,rome,213,2).
route(frankfurt,rome,226,2).
route(frankfurt,rome,233,2).
route(frankfurt,rome,290,2).
route(frankfurt,rome,355,2).
route(frankfurt,rome,355,2).
route(frankfurt,rome,452,2).
route(frankfurt,rome,165,3).
route(frankfurt,rome,202,3).
route(frankfurt,rome,512,3).
route(frankfurt,rome,192,3).
route(frankfurt,rome,202,3).
route(frankfurt,rome,233,3).
route(frankfurt,rome,290,3).
route(frankfurt,rome,290,3).
route(frankfurt,rome,512,3).
route(frankfurt,rome,512,3).
route(frankfurt,rome,525,3).
route(frankfurt,rome,165,4).
route(frankfurt,rome,202,4).
route(frankfurt,rome,355,4).
route(frankfurt,rome,133,4).
route(frankfurt,rome,133,4).
route(frankfurt,rome,133,4).
route(frankfurt,rome,166,4).
route(frankfurt,rome,233,4).
route(frankfurt,rome,343,4).
route(frankfurt,rome,449,4).
route(frankfurt,rome,512,4).
route(frankfurt,rome,512,4).
route(frankfurt,rome,165,5).
route(frankfurt,rome,202,5).
route(frankfurt,rome,355,5).
route(frankfurt,rome,133,5).
route(frankfurt,rome,148,5).
route(frankfurt,rome,202,5).
route(frankfurt,rome,388,5).
route(frankfurt,rome,406,5).
route(frankfurt,rome,512,5).
route(frankfurt,rome,512,5).
route(frankfurt,rome,525,5).
route(vienna,prague,232,1).
route(vienna,prague,276,1).
route(vienna,prague,276,1).
route(vienna,prague,411,1).
route(vienna,prague,232,1).
route(vienna,prague,259,1).
route(vienna,prague,315,1).
route(vienna,prague,367,1).
route(vienna,prague,431,1).
route(vienna,prague,493,1).
route(vienna,prague,551,1).
route(vienna,prague,276,2).
route(vienna,prague,315,2).
route(vienna,prague,326,2).
route(vienna,prague,232,2).
route(vienna,prague,266,2).
route(vienna,prague,367,2).
route(vienna,prague,406,2).
route(vienna,prague,489,2).
route(vienna,prague,551,2).
route(vienna,prague,276,3).
route(vienna,prague,276,3).
route(vienna,prague,276,3).
route(vienna,prague,232,3).
route(vienna,prague,241,3).
route(vienna,prague,254,3).
route(vienna,prague,254,3).
route(vienna,prague,365,3).
route(vienna,prague,367,3).
route(vienna,prague,405,3).
route(vienna,prague,431,3).
route(vienna,prague,551,3).
route(vienna,prague,165,4).
route(vienna,prague,276,4).
route(vienna,prague,276,4).
route(vienna,prague,176,4).
route(vienna,prague,224,4).
route(vienna,prague,232,4).
route(vienna,prague,266,4).
route(vienna,prague,315,4).
route(vienna,prague,224,5).
route(vienna,prague,276,5).
route(vienna,prague,276,5).
route(vienna,prague,276,5).
route(vienna,prague,194,5).
route(vienna,prague,224,5).
route(vienna,prague,239,5).
route(vienna,prague,315,5).
route(vienna,prague,342,5).
route(vienna,prague,365,5).
route(vienna,frankfurt,262,1).
route(vienna,frankfurt,380,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,115,1).
route(vienna,frankfurt,133,1).
route(vienna,frankfurt,149,1).
route(vienna,frankfurt,229,1).
route(vienna,frankfurt,305,1).
route(vienna,frankfurt,318,1).
route(vienna,frankfurt,398,1).
route(vienna,frankfurt,411,1).
route(vienna,frankfurt,520,1).
route(vienna,frankfurt,632,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,900,1).
route(vienna,frankfurt,380,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,112,2).
route(vienna,frankfurt,112,2).
route(vienna,frankfurt,133,2).
route(vienna,frankfurt,206,2).
route(vienna,frankfurt,227,2).
route(vienna,frankfurt,264,2).
route(vienna,frankfurt,264,2).
route(vienna,frankfurt,298,2).
route(vienna,frankfurt,398,2).
route(vienna,frankfurt,467,2).
route(vienna,frankfurt,520,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,787,2).
route(vienna,frankfurt,900,2).
route(vienna,frankfurt,900,2).
route(vienna,frankfurt,900,2).
route(vienna,frankfurt,264,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,96,3).
route(vienna,frankfurt,98,3).
route(vienna,frankfurt,133,3).
route(vienna,frankfurt,264,3).
route(vienna,frankfurt,264,3).
route(vienna,frankfurt,539,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,666,3).
route(vienna,frankfurt,787,3).
route(vienna,frankfurt,787,3).
route(vienna,frankfurt,900,3).
route(vienna,frankfurt,900,3).
route(vienna,frankfurt,900,3).
route(vienna,frankfurt,219,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,133,4).
route(vienna,frankfurt,137,4).
route(vienna,frankfurt,149,4).
route(vienna,frankfurt,177,4).
route(vienna,frankfurt,213,4).
route(vienna,frankfurt,219,4).
route(vienna,frankfurt,219,4).
route(vienna,frankfurt,338,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,666,4).
route(vienna,frankfurt,787,4).
route(vienna,frankfurt,787,4).
route(vienna,frankfurt,787,4).
route(vienna,frankfurt,219,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,110,5).
route(vienna,frankfurt,133,5).
route(vienna,frankfurt,156,5).
route(vienna,frankfurt,200,5).
route(vienna,frankfurt,219,5).
route(vienna,frankfurt,219,5).
route(vienna,frankfurt,238,5).
route(vienna,frankfurt,338,5).
route(vienna,frankfurt,376,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,frankfurt,666,5).
route(vienna,rome,51,1).
route(vienna,rome,115,1).
route(vienna,rome,482,1).
route(vienna,rome,117,1).
route(vienna,rome,216,1).
route(vienna,rome,216,1).
route(vienna,rome,270,1).
route(vienna,rome,309,1).
route(vienna,rome,441,1).
route(vienna,rome,18,2).
route(vienna,rome,32,2).
route(vienna,rome,297,2).
route(vienna,rome,117,2).
route(vienna,rome,245,2).
route(vienna,rome,258,2).
route(vienna,rome,362,2).
route(vienna,rome,364,2).
route(vienna,rome,441,2).
route(vienna,rome,25,3).
route(vienna,rome,27,3).
route(vienna,rome,297,3).
route(vienna,rome,160,3).
route(vienna,rome,216,3).
route(vienna,rome,258,3).
route(vienna,rome,295,3).
route(vienna,rome,380,3).
route(vienna,rome,459,3).
route(vienna,rome,37,4).
route(vienna,rome,41,4).
route(vienna,rome,240,4).
route(vienna,rome,117,4).
route(vienna,rome,295,4).
route(vienna,rome,298,4).
route(vienna,rome,362,4).
route(vienna,rome,380,4).
route(vienna,rome,380,4).
route(vienna,rome,32,5).
route(vienna,rome,39,5).
route(vienna,rome,47,5).
route(vienna,rome,240,5).
route(vienna,rome,117,5).
route(vienna,rome,240,5).
route(vienna,rome,303,5).
route(vienna,rome,306,5).
route(vienna,rome,380,5).
route(rome,prague,32,1).
route(rome,prague,126,1).
route(rome,prague,106,1).
route(rome,prague,153,1).
route(rome,prague,269,1).
route(rome,prague,272,1).
route(rome,prague,272,1).
route(rome,prague,278,1).
route(rome,prague,278,1).
route(rome,prague,290,1).
route(rome,prague,312,1).
route(rome,prague,30,2).
route(rome,prague,32,2).
route(rome,prague,184,2).
route(rome,prague,189,2).
route(rome,prague,227,2).
route(rome,prague,231,2).
route(rome,prague,269,2).
route(rome,prague,269,2).
route(rome,prague,278,2).
route(rome,prague,278,2).
route(rome,prague,550,2).
route(rome,prague,32,3).
route(rome,prague,37,3).
route(rome,prague,133,3).
route(rome,prague,142,3).
route(rome,prague,202,3).
route(rome,prague,227,3).
route(rome,prague,227,3).
route(rome,prague,272,3).
route(rome,prague,278,3).
route(rome,prague,278,3).
route(rome,prague,312,3).
route(rome,prague,32,4).
route(rome,prague,37,4).
route(rome,prague,121,4).
route(rome,prague,122,4).
route(rome,prague,188,4).
route(rome,prague,202,4).
route(rome,prague,269,4).
route(rome,prague,272,4).
route(rome,prague,272,4).
route(rome,prague,278,4).
route(rome,prague,278,4).
route(rome,prague,32,5).
route(rome,prague,57,5).
route(rome,prague,117,5).
route(rome,prague,188,5).
route(rome,prague,269,5).
route(rome,prague,269,5).
route(rome,prague,269,5).
route(rome,prague,272,5).
route(rome,prague,312,5).
route(rome,frankfurt,154,1).
route(rome,frankfurt,155,1).
route(rome,frankfurt,155,1).
route(rome,frankfurt,155,1).
route(rome,frankfurt,293,1).
route(rome,frankfurt,102,1).
route(rome,frankfurt,102,1).
route(rome,frankfurt,154,1).
route(rome,frankfurt,155,1).
route(rome,frankfurt,414,1).
route(rome,frankfurt,124,2).
route(rome,frankfurt,154,2).
route(rome,frankfurt,155,2).
route(rome,frankfurt,155,2).
route(rome,frankfurt,155,2).
route(rome,frankfurt,102,2).
route(rome,frankfurt,102,2).
route(rome,frankfurt,222,2).
route(rome,frankfurt,222,2).
route(rome,frankfurt,414,2).
route(rome,frankfurt,124,3).
route(rome,frankfurt,154,3).
route(rome,frankfurt,155,3).
route(rome,frankfurt,155,3).
route(rome,frankfurt,155,3).
route(rome,frankfurt,97,3).
route(rome,frankfurt,154,3).
route(rome,frankfurt,222,3).
route(rome,frankfurt,226,3).
route(rome,frankfurt,226,3).
route(rome,frankfurt,124,4).
route(rome,frankfurt,154,4).
route(rome,frankfurt,155,4).
route(rome,frankfurt,155,4).
route(rome,frankfurt,102,4).
route(rome,frankfurt,154,4).
route(rome,frankfurt,155,4).
route(rome,frankfurt,222,4).
route(rome,frankfurt,222,4).
route(rome,frankfurt,536,4).
route(rome,frankfurt,124,5).
route(rome,frankfurt,133,5).
route(rome,frankfurt,133,5).
route(rome,frankfurt,102,5).
route(rome,frankfurt,102,5).
route(rome,frankfurt,130,5).
route(rome,frankfurt,133,5).
route(rome,frankfurt,154,5).
route(rome,frankfurt,154,5).
route(rome,frankfurt,193,5).
route(rome,frankfurt,264,5).
route(rome,vienna,31,1).
route(rome,vienna,32,1).
route(rome,vienna,37,1).
route(rome,vienna,71,1).
route(rome,vienna,205,1).
route(rome,vienna,205,1).
route(rome,vienna,244,1).
route(rome,vienna,310,1).
route(rome,vienna,18,2).
route(rome,vienna,30,2).
route(rome,vienna,101,2).
route(rome,vienna,169,2).
route(rome,vienna,172,2).
route(rome,vienna,197,2).
route(rome,vienna,200,2).
route(rome,vienna,205,2).
route(rome,vienna,27,3).
route(rome,vienna,30,3).
route(rome,vienna,71,3).
route(rome,vienna,118,3).
route(rome,vienna,121,3).
route(rome,vienna,126,3).
route(rome,vienna,126,3).
route(rome,vienna,126,3).
route(rome,vienna,18,4).
route(rome,vienna,47,4).
route(rome,vienna,71,4).
route(rome,vienna,126,4).
route(rome,vienna,126,4).
route(rome,vienna,126,4).
route(rome,vienna,197,4).
route(rome,vienna,271,4).
route(rome,vienna,34,5).
route(rome,vienna,37,5).
route(rome,vienna,48,5).
route(rome,vienna,71,5).
route(rome,vienna,71,5).
route(rome,vienna,126,5).
route(rome,vienna,244,5).
route(rome,vienna,310,5).

:- use_module(library(scasp)).

% list queries
% check if an element is in a list
is_member(Element, [Element | _]).
is_member(Element, [_ | Tail]) :-
    is_member(Element, Tail).

% remove an element from a list
remove_element(_, [], []).
remove_element(Elem, [Elem|Tail], Result) :-
    remove_element(Elem, Tail, Result).
remove_element(Elem, [Head|Tail], [Head|Result]) :-
    Elem \= Head,
    remove_element(Elem, Tail, Result).

% append an element to the front of a list
append_element(Elem, List, [Elem|List]).

% reverse lists elements
reverse_list([], []).
reverse_list([Head|Tail], Reversed) :-
    reverse_list(Tail, ReversedTail),
    reverse_element(ReversedTail, [Head], Reversed).

reverse_element([], List, List).
reverse_element([Head|Tail], List, [Head|Result]) :-
    reverse_element(Tail, List, Result).

% get element length of list
get_length([], 0). 
get_length([_| Tail], Length) :-
    get_length(Tail, TailLength),
    Length is TailLength + 1.

get_head([ HEAD | _], HEAD).

% Collect all cities from city/1 facts
all_cities(Cities) :-
    findall(City, city(City), Cities).

% get total hotel cost for stay based on flight days
hotel_cost(CITY, CURRENTDAY, [PREVDAY | _], X) :-
    hotel(CITY, PRICE),
    % access first and next element as CURRENTDAY and PREVDAY
    DAYS is CURRENTDAY - PREVDAY,
    X is DAYS * PRICE.

% logic will find all possible trips to visit every city

% base case
oneWayTrip(END, END, BUDGET, HOLIDAYS, CURRENTTOTAL, VISITED, FLIGHTDAYS, TOTALCOST, PLACESVISITED, FINALFLIGHTDAYS) :-
    hotel_cost(END, HOLIDAYS, FLIGHTDAYS, COST),
    NEWTOTAL is CURRENTTOTAL + COST,
    TOTALCOST = NEWTOTAL,
    reverse_list(VISITED, PLACESVISITED),
    % PLACESVISITED = VISITED,
    reverse_list(FLIGHTDAYS, FINALFLIGHTDAYS).
    % FINALFLIGHTDAYS = FLIGHTDAYS.
    

% recursive call
oneWayTrip(CURRENT, END, BUDGET, HOLIDAYS, CURRENTTOTAL, VISITED, FLIGHTDAYS, TOTALCOST, PLACESVISITED, FINALFLIGHTDAYS) :-
    % make sure that these are valid cities
    city(CURRENT), % debug
    city(END), % debug

    % find next possible flight to next possible destination
    route(CURRENT, NEXT, PRICE, DAY),
    get_head(FLIGHTDAYS, CURDAY),
    DAY .>. CURDAY,

    % find a possible next destination
    not is_member(NEXT, VISITED),

    % check to make sure its in budget & in time range
    hotel_cost(CURRENT, DAY, FLIGHTDAYS, HOTELCOST),
    (CURRENTTOTAL + PRICE + HOTELCOST) .<. BUDGET,
    DAY.<.HOLIDAYS,
    NEWTOTAL is CURRENTTOTAL + PRICE + HOTELCOST,

    % add the projected city to the visited list
    append_element(NEXT, VISITED, NEWVISITED),

    % add the flight days to list
    append_element(DAY, FLIGHTDAYS, NEWFLIGHTDAYS),

    oneWayTrip(NEXT, END, BUDGET, HOLIDAYS, NEWTOTAL, NEWVISITED, NEWFLIGHTDAYS, TOTALCOST, PLACESVISITED, FINALFLIGHTDAYS).


trip(START,END,BUDGET,HOLIDAYS, TOTALCOST, PLACESVISITED, FINALFLIGHTDAYS) :-
    oneWayTrip(START,END,BUDGET,HOLIDAYS, 0, [START], [1], TOTALCOST, PLACESVISITED, FINALFLIGHTDAYS).

% run
?- trip(prague, rome, 200000, 20, X, Y, Z). 